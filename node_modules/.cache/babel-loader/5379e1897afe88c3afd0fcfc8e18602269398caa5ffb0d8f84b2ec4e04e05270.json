{"ast":null,"code":"var _jsxFileName = \"/Users/MBpro/Documents/Becode/meli-melo/src/Components/Login/LoginPage.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useForm } from 'react-hook-form';\nimport { useAuth } from './Auth';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport '../Home/Style.css';\nimport Logo from \"../../assets/bg.png\";\nimport { Link } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginPage() {\n  _s();\n  var _location$state;\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const location = useLocation();\n  const [user, setUser] = useState('');\n  const auth = useAuth();\n  const redirectPath = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.path) || '/';\n  let navigate = useNavigate();\n  const onSubmit = async function () {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    console.log(data);\n    axios.post(\"/user/login\", data).then(response => {\n      const userId = response.data.id;\n      console.log(userId);\n      localStorage.setItem(\"user_id\", userId);\n      auth.login(user);\n      navigate(redirectPath, {\n        replace: true\n      });\n    }).catch(error => {\n      console.log(error);\n      navigate(\"/signup\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"flex-row\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        class: \"loginNavBar navbar navbar-expand-lg   container-xxl flex-wrap flex-lg-nowrap  \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"navbar w-50\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: Logo,\n              alt: \"logo\",\n              class: \"img-fluid object-fit-cover  rounded m-0 ms-5 my-0 loginimg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"d-flex navBarDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"navbar-nav ms-auto my-2 mt-lg-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"nav-item active\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-10 ms-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-outline\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      class: \"form-label ms-2 my-0 \",\n                      for: \"typeText\",\n                      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: \"Login \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 50,\n                        columnNumber: 73\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 50,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      class: \"form-control mx-2 \",\n                      id: \"exampleInputEmail1\",\n                      \"aria-describedby\": \"emailHelp\",\n                      placeholder: \"Email\",\n                      ...register(\"email\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 51,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 49,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"nav-item active\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-10 ms-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-outline\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      class: \"form-label \",\n                      for: \"typeText\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 60,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      class: \"form-control m-2\",\n                      id: \"exampleInputPassword1\",\n                      placeholder: \"Password\",\n                      ...register(\"password\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 61,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  class: \"nav-link width=auto \",\n                  to: \"/home\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    class: \"btn mt-4\",\n                    children: \"Log in\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"FnuSFpOlm4vJioSblWgkVDkjfNs=\", false, function () {\n  return [useForm, useLocation, useAuth, useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["axios","useForm","useAuth","useNavigate","useLocation","Logo","Link","React","useState","LoginPage","register","handleSubmit","location","user","setUser","auth","redirectPath","state","path","navigate","onSubmit","data","console","log","post","then","response","userId","id","localStorage","setItem","login","replace","catch","error"],"sources":["/Users/MBpro/Documents/Becode/meli-melo/src/Components/Login/LoginPage.jsx"],"sourcesContent":["import axios from \"axios\"\nimport { useForm } from 'react-hook-form';\nimport { useAuth } from './Auth';\nimport { useNavigate,useLocation } from \"react-router-dom\";\nimport '../Home/Style.css'\nimport Logo from \"../../assets/bg.png\";\nimport { Link } from 'react-router-dom';\nimport React, {useState} from 'react';\n\n\nfunction LoginPage () {\n  const {register,handleSubmit} = useForm();\n  const location =useLocation()\n  const [user, setUser] = useState('');\n  const auth = useAuth();\n  const redirectPath = location.state?.path || '/'\n\n let navigate = useNavigate();\n  const onSubmit = async (data = {}) => {\n    console.log(data)\n     axios\n      .post(\"/user/login\", data)\n      .then((response) => {\n       const userId = response.data.id;\n        console.log(userId);\n        localStorage.setItem(\"user_id\", userId);\n        auth.login(user);\n      navigate(redirectPath, {replace :true});\n      })\n      .catch((error) => {\n        console.log(error);\n        navigate (\"/signup\");\n       });\n   }\n  return (\n    <div>\n      <div class=\"flex-row\">\n        <nav class=\"loginNavBar navbar navbar-expand-lg   container-xxl flex-wrap flex-lg-nowrap  \">\n          <div class=\"navbar w-50\" >\n            <Link  to=\"/\" >\n              <img src={Logo} alt=\"logo\" class=\"img-fluid object-fit-cover  rounded m-0 ms-5 my-0 loginimg\"  />\n            </Link>\n          </div>\n          <div class=\"d-flex navBarDiv\">\n          <form onSubmit={handleSubmit(onSubmit)}>\n          <ul class=\"navbar-nav ms-auto my-2 mt-lg-0\">\n          <li class=\"nav-item active\">\n          <div class=\"col-md-10 ms-2\">\n                <div class=\"form-outline\">\n                    <label class=\"form-label ms-2 my-0 \" for=\"typeText\"><h5>Login </h5></label>\n                    <input type=\"email\" class=\"form-control mx-2 \" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Email\"{...register(\"email\")}/>\n                    \n                </div>\n            </div>\n          </li>\n          \n            <li class=\"nav-item active\">\n              <div class=\"col-md-10 ms-2\">\n                  <div class=\"form-outline\">\n                    <label  class=\"form-label \" for=\"typeText\"></label>\n                    <input type=\"password\" class=\"form-control m-2\" id=\"exampleInputPassword1\" placeholder=\"Password\" {...register(\"password\")}/>\n                      \n                  </div>\n              </div>\n            </li>\n            <li>\n              <Link class=\"nav-link width=auto \"  to=\"/home\">\n              <button type=\"button\" class=\"btn mt-4\">Log in</button></Link>\n            </li>\n          \n          </ul>\n          </form>\n\n          </div>\n          \n         \n          \n        </nav>\n      </div>\n       \n \n  \n    </div>\n   \n\n  );\n\n}\n\nexport default LoginPage;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}